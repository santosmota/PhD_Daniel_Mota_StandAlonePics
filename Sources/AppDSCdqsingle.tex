%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DSC in the dq FRAME
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tikzstyle{block} = [draw, rectangle, fill=white, minimum height=1cm, minimum width=1cm, font=\footnotesize]
\tikzstyle{caixa} = [rectangle, draw, fill=white, text width=1cm, text centered, minimum height=1cm, font=\footnotesize ] %,text width=2cm minimum width=2.2cm
\tikzstyle{sum} = [draw, circle, font=\footnotesize]
\tikzstyle{junction} = [coordinate]
\tikzstyle{fonte} = [font=\footnotesize]
\begin{tikzpicture}[auto, >=latex']

\node at (0,0) [block] (HalfIn) {$\frac{1}{2}$};
\draw [->] (-1,0) to node[fonte, anchor=east, pos=0] () {$x(k)$} (HalfIn);

\node at (2,-1) [block] (znc) {$z^{-n_r}$};
\draw [->] (HalfIn) to (1,0) |- (znc);
\fill (1,0) circle [radius=1pt];

\node at (0,-2) [block] (ceil) {round};
\draw [->] (-1,-2) to node[fonte, anchor=east, pos=0] () {$n(k)$} (ceil); %$\frac{T(k)}{4 T_s}$
\draw [->] (ceil) -| node [fonte, anchor=south, pos=0.2] () {$n_r(k)$} (znc);

\node at (3,0) [sum] (sumceil) {$\Sigma$};
\draw [->] (HalfIn) to node[fonte, anchor=south, pos=0.9] () {$+$} (sumceil);
\draw [->] (znc) -| node[fonte, anchor=east, pos=0.8] () {$+$} (sumceil);
\draw [->] (sumceil) to node[fonte, anchor=west, pos=1] () {$y_r(k)$} ++(0.75,0);

\end{tikzpicture}